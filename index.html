<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Fly 103.5 MHz Rock</title>
    
    <!-- Metadatos para SEO y redes sociales -->
    <meta name="description" content="Escucha Radio Fly 103.5 MHz Rock en vivo, la mejor selección de música rock online.">
    <meta name="keywords" content="radio, rock, música, online, streaming, 103.5, en vivo, fly, argentina, rock and roll">
    <meta name="author" content="Gemini">
    
    <!-- Open Graph Protocol (Para compartir en redes sociales como Facebook, WhatsApp) -->
    <meta property="og:title" content="Radio Fly 103.5 MHz Rock">
    <meta property="og:description" content="Sintoniza tu estación de rock favorita en vivo, 24/7.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.tu-sitio.com/radio-fly">
    <meta property="og:image" content="https://placehold.co/1200x630/222222/a3e635?text=Radio+Fly">
    
    <!-- Twitter Card (Para compartir en Twitter) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Radio Fly 103.5 MHz Rock">
    <meta name="twitter:description" content="Sintoniza tu estación de rock favorita en vivo, 24/7.">
    <meta name="twitter:image" content="https://placehold.co/1200x630/222222/a3e635?text=Radio+Fly">

    <!-- Incluye el script de Tailwind CSS para un estilo moderno -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilo personalizado para el cuerpo */
        body {
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1f2937, #0f172a);
            color: #f3f4f6;
        }

        /* Oculta la barra de desplazamiento en todos los navegadores */
        body::-webkit-scrollbar {
            display: none;
        }
        
        .radio-container {
            max-width: 90%;
            width: 400px;
        }

        /* Estilo para el botón de reproducción/pausa */
        #playPauseBtn {
            transition: transform 0.2s ease-in-out, background-color 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
        }

        #playPauseBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        #playPauseBtn:active {
            transform: translateY(0);
        }

        /* Estilo para el control de volumen */
        #volumeSlider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #4b5563;
            outline: none;
            border-radius: 9999px;
        }

        #volumeSlider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #f3f4f6;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        #volumeSlider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #f3f4f6;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">

    <!-- Contenedor principal de la aplicación de radio -->
    <div class="radio-container bg-gray-800 p-8 rounded-3xl shadow-2xl text-center">
        <!-- Título de la estación de radio -->
        <h1 class="text-3xl sm:text-4xl font-bold mb-2 text-rose-500">Radio Fly</h1>
        <p class="text-xl sm:text-2xl font-light mb-6 text-gray-300">103.5 MHz Rock</p>

        <!-- Contenedor del reproductor de audio -->
        <div class="space-y-6">
            <!-- Elemento de audio que cargará el stream -->
            <audio id="radioStream"></audio>

            <!-- Indicador de carga -->
            <div id="loadingIndicator" class="hidden text-sm text-gray-400 animate-pulse">
                Cargando...
            </div>
            
            <!-- Icono del reproductor (Rock) -->
            <div class="relative w-32 h-32 mx-auto mb-6 bg-gray-700 rounded-full flex items-center justify-center shadow-lg">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-16 h-16 text-rose-500 animate-pulse">
                    <path d="M11.644 1.564a.75.75 0 0 0-.806 0L3.09 5.867A2.25 2.25 0 0 0 1.5 7.697v6.606c0 .942.54 1.782 1.35 2.208l7.744 4.309a.75.75 0 0 0 .806 0l7.743-4.309c.81-.426 1.35-1.266 1.35-2.208V7.697a2.25 2.25 0 0 0-1.594-2.09l-7.743-4.31ZM12 4.414l5.352 2.973-2.146 1.192a.75.75 0 0 1-.722-.196l-2.484-2.152a.75.75 0 0 0-.964 0l-2.484 2.152a.75.75 0 0 1-.722.196L6.648 7.387 12 4.414Z" />
                </svg>
            </div>

            <!-- Sección de Metadatos de la Canción -->
            <div id="song-metadata" class="text-center space-y-2 mb-4">
                <p class="text-xs font-semibold uppercase tracking-wider text-gray-400">Ahora sonando:</p>
                <h2 id="songTitle" class="text-xl font-bold text-gray-100">Cargando...</h2>
                <p id="songArtist" class="text-md font-light text-gray-300">...</p>
            </div>
            
            <!-- Botón de reproducción/pausa -->
            <button id="playPauseBtn" class="w-24 h-24 bg-rose-600 hover:bg-rose-700 text-white rounded-full flex items-center justify-center mx-auto transition-colors focus:outline-none">
                <svg id="playIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-10 h-10">
                    <path fill-rule="evenodd" d="M4.5 5.653c0-1.445 1.723-2.206 2.946-1.493l11.07 6.115a2.25 2.25 0 0 1 0 3.988l-11.07 6.115a2.25 2.25 0 0 1-2.946-1.494V5.653Z" clip-rule="evenodd" />
                </svg>
                <svg id="pauseIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-10 h-10 hidden">
                    <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
                </svg>
            </button>
            
            <!-- Contenedor del control de volumen -->
            <div class="flex items-center space-x-2 w-full">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-gray-400">
                    <path d="M13.5 4.5a4.5 4.5 0 1 0 0 9 .75.75 0 0 1 0 1.5c-.347 0-.684-.06-.998-.175a.75.75 0 0 1-.22-.516l-.119-.457a.75.75 0 0 0-.757-.525l-.11-.035a.75.75 0 0 1-.502-.816l.115-.567a.75.75 0 0 0-.573-.787 15.65 15.65 0 0 0-3.32-.693.75.75 0 0 1-.686-.549l-.023-.118A4.5 4.5 0 0 0 13.5 4.5ZM1.993 18.182a.75.75 0 0 0-.251.874c.642 1.258 1.513 2.41 2.56 3.428a15.636 15.636 0 0 0 4.14 2.064.75.75 0 0 0 .749-.749 13.127 13.127 0 0 1-1.39-4.321l-.657-3.66a.75.75 0 0 0-1.127-.478 15.01 15.01 0 0 1-2.91 1.341 15.01 15.01 0 0 0-1.895-.87Z" />
                    <path fill-rule="evenodd" d="M15 15.75a.75.75 0 1 0 0-1.5 3 3 0 0 1 2.766-2.999c-.144.475-.314.933-.509 1.378-.517 1.229-1.314 2.321-2.316 3.235Z" clip-rule="evenodd" />
                </svg>
                <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer">
            </div>

            <!-- Mensajes de estado -->
            <div id="statusMessage" class="text-sm text-gray-400 mt-4">
                Listo para reproducir.
            </div>
        </div>
    </div>

    <script>
        // Get references to DOM elements
        const audio = document.getElementById('radioStream');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const volumeSlider = document.getElementById('volumeSlider');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const statusMessage = document.getElementById('statusMessage');

        // References to new metadata elements
        const songTitleElement = document.getElementById('songTitle');
        const songArtistElement = document.getElementById('songArtist');

        let isPlaying = false;
        
        // URL for the direct audio stream
        const radioUrl = 'https://stream.zeno.fm/67ep5htcxf9uv';
        audio.src = radioUrl;

        // URL for the metadata API endpoint
        const metadataUrl = 'https://stream.zeno.fm/api/metadata/67ep5htcxf9uv';
        // A public CORS proxy to bypass browser security
        const proxyUrl = 'https://api.allorigins.win/raw?url=';

        // Function to fetch metadata from the API
        async function fetchMetadata() {
            try {
                // Make the API call through the CORS proxy
                const response = await fetch(proxyUrl + encodeURIComponent(metadataUrl));
                
                // If the response is not successful, throw an error
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                // Parse the response as JSON
                const data = await response.json();
                
                // Update the DOM elements with the fetched metadata
                // The JSON response structure has a "metadata" property
                if (data && data.metadata) {
                    songTitleElement.textContent = data.metadata.song_title || 'Desconocido';
                    songArtistElement.textContent = data.metadata.artist_name || 'Desconocido';
                } else {
                    songTitleElement.textContent = 'Información no disponible';
                    songArtistElement.textContent = '...';
                }

            } catch (error) {
                console.error('Error fetching metadata:', error);
                songTitleElement.textContent = 'Error al obtener metadatos';
                songArtistElement.textContent = '...';
            }
        }

        // Fetch metadata every 10 seconds
        setInterval(fetchMetadata, 10000);

        // Function to toggle play/pause
        function togglePlayPause() {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                statusMessage.textContent = 'Reproducción en pausa.';
            } else {
                audio.play()
                    .then(() => {
                        isPlaying = true;
                        playIcon.classList.add('hidden');
                        pauseIcon.classList.remove('hidden');
                        statusMessage.textContent = 'Reproduciendo...';
                    })
                    .catch(error => {
                        console.error('Error trying to play:', error);
                        statusMessage.textContent = 'Error al reproducir. Intenta de nuevo.';
                        playIcon.classList.remove('hidden');
                        pauseIcon.classList.add('hidden');
                        isPlaying = false;
                    });
            }
        }

        // Handle audio events
        audio.addEventListener('play', () => {
            playIcon.classList.add('hidden');
            pauseIcon.classList.remove('hidden');
            loadingIndicator.classList.add('hidden');
            statusMessage.textContent = 'Reproduciendo...';
        });

        audio.addEventListener('pause', () => {
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
            statusMessage.textContent = 'Reproducción en pausa.';
        });
        
        // Handle 'waiting' event to show loading indicator
        audio.addEventListener('waiting', () => {
            loadingIndicator.classList.remove('hidden');
            statusMessage.textContent = 'Cargando...';
        });

        // Handle 'canplay' event to hide loading indicator
        audio.addEventListener('canplay', () => {
            loadingIndicator.classList.add('hidden');
            if (isPlaying) {
                statusMessage.textContent = 'Reproduciendo...';
            } else {
                statusMessage.textContent = 'Listo para reproducir.';
            }
        });
        
        // Handle error event
        audio.addEventListener('error', (e) => {
            console.error('Audio error:', e);
            statusMessage.textContent = 'Error en el stream. Intente más tarde.';
            loadingIndicator.classList.add('hidden');
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
            isPlaying = false;
        });

        // Handle button clicks
        playPauseBtn.addEventListener('click', togglePlayPause);

        // Handle volume slider changes
        volumeSlider.addEventListener('input', () => {
            audio.volume = volumeSlider.value;
        });

        // Load initial metadata on startup
        fetchMetadata();
    </script>
</body>
</html>






